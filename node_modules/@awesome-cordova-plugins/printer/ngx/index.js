import { __extends } from "tslib";
import { Injectable } from '@angular/core';
import { AwesomeCordovaNativePlugin, cordova, checkAvailability, getPromise } from '@awesome-cordova-plugins/core';
var Printer = /** @class */ (function (_super) {
    __extends(Printer, _super);
    function Printer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * Checks whether the device is capable of printing (uses `check()` internally)
     *
     * @returns {Promise<boolean>}
     */
    Printer.prototype.isAvailable = function () {
        return this.check().then(function (res) { return Promise.resolve(res.avail); });
    };
    Printer.prototype.check = function () {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                return getPromise(function (resolve) {
                    Printer.getPlugin().canPrintItem(function (avail, count) {
                        resolve({ avail: avail, count: count });
                    });
                });
            }
        })();
    };
    Printer.prototype.pick = function () { return cordova(this, "pick", {}, arguments); };
    Printer.prototype.print = function (content, options) { return cordova(this, "print", { "successIndex": 2, "errorIndex": 4 }, arguments); };
    Printer.pluginName = "Printer";
    Printer.plugin = "cordova-plugin-printer";
    Printer.pluginRef = "cordova.plugins.printer";
    Printer.repo = "https://github.com/katzer/cordova-plugin-printer";
    Printer.platforms = ["Android", "iOS", "Windows"];
    Printer.decorators = [
        { type: Injectable }
    ];
    return Printer;
}(AwesomeCordovaNativePlugin));
export { Printer };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvcHJpbnRlci9uZ3gvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTywwREFBNkQsVUFBVSxFQUFFLE1BQU0sK0JBQStCLENBQUM7O0lBdUt6RiwyQkFBMEI7Ozs7SUFDckQ7Ozs7T0FJRztJQUNILDZCQUFXLEdBQVg7UUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBQyxHQUFRLElBQUssT0FBQSxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBMUIsQ0FBMEIsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFRRCx1QkFBSzs7O21EQUFpQjtnQkFDcEIsT0FBTyxVQUFVLENBQU0sVUFBQyxPQUFpQjtvQkFDdkMsT0FBTyxDQUFDLFNBQVMsRUFBRSxDQUFDLFlBQVksQ0FBQyxVQUFDLEtBQWMsRUFBRSxLQUFVO3dCQUMxRCxPQUFPLENBQUMsRUFBRSxLQUFLLE9BQUEsRUFBRSxLQUFLLE9BQUEsRUFBRSxDQUFDLENBQUM7b0JBQzVCLENBQUMsQ0FBQyxDQUFDO2dCQUNMLENBQUMsQ0FBQyxDQUFDO2FBQ0o7OztJQVFELHNCQUFJO0lBZUosdUJBQUssYUFBQyxPQUE4QixFQUFFLE9BQXNCOzs7Ozs7O2dCQTlDN0QsVUFBVTs7a0JBdktYO0VBd0s2QiwwQkFBMEI7U0FBMUMsT0FBTyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvcmRvdmEsIENvcmRvdmFDaGVjaywgQXdlc29tZUNvcmRvdmFOYXRpdmVQbHVnaW4sIFBsdWdpbiwgZ2V0UHJvbWlzZSB9IGZyb20gJ0Bhd2Vzb21lLWNvcmRvdmEtcGx1Z2lucy9jb3JlJztcblxuaW50ZXJmYWNlIEZvbnRPcHRpb25zIHtcbiAgbmFtZTogc3RyaW5nOyAvLyBUaGUgbmFtZSBvZiB0aGUgZm9udCBmYW1pbHkuIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICBzaXplOiBudW1iZXI7IC8vIFRoZSBzaXplIG9mIHRoZSBmb250LiBPbmx5IHN1cHBvcnRlZCBvbiBpT1MsIEFuZHJvaWRcbiAgaXRhbGljOiBib29sZWFuOyAvLyBTZXQgdG8gdHJ1ZSB0byBlbmFibGUgdGhlc2UgZm9udCB0cmFpdHMuIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICBib2xkOiBib29sZWFuOyAvLyBTZXQgdG8gdHJ1ZSB0byBlbmFibGUgdGhlc2UgZm9udCB0cmFpdHMuIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICBhbGlnbjogJ2xlZnQnIHwgJ3JpZ2h0JyB8ICdjZW50ZXInIHwgJ2p1c3RpZmllZCc7IC8vIFBvc3NpYmxlIGFsaWdubWVudHMgYXJlIGxlZnQsIHJpZ2h0LCBjZW50ZXIgYW5kIGp1c3RpZmllZC4gT25seSBzdXBwb3J0ZWQgb24gaU9TXG4gIGNvbG9yOiBzdHJpbmc7IC8vIFRoZSBjb2xvciBvZiB0aGUgZm9udCBpbiBoZXhhLWRlY2ltYWwgUkdCIGZvcm1hdCAtIFwiRkYwMDAwXCIgbWVhbnMgcmVkLiBPbmx5IHN1cHBvcnRlZCBvbiBpT1Ncbn1cblxuaW50ZXJmYWNlIEhlYWRlckZvb3RlckxhYmVsT3B0aW9ucyB7XG4gIHRleHQ6IHN0cmluZzsgLy8gVGhlIHBsYWluIHRleHQgdG8gZGlzcGxheS4gVXNlICVsZCB0byBpbmRpY2F0ZSB3aGVyZSB0byBpbnNlcnQgdGhlIHBhZ2UgaW5kZXguIEZvciBleGFtcGxlIFwiUGFnZSAlbGRcIiB3b3VsZCByZXN1bHQgaW50byBcIlBhZ2UgMVwiLCBcIlBhZ2UgMlwiLCAuLi4uIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICB0b3A6IHN0cmluZzsgLy8gVGhlIHJlbGF0aXZlIHBvc2l0aW9uIHdoZXJlIHRvIHBsYWNlIHRoZSBsYWJlbCB3aXRoaW4gdGhlIGZvb3RlciBvciBoZWFkZXIgYXJlYS4gT25seSBzdXBwb3J0ZWQgb24gaU9TXG4gIHJpZ2h0OiBzdHJpbmc7IC8vIFRoZSByZWxhdGl2ZSBwb3NpdGlvbiB3aGVyZSB0byBwbGFjZSB0aGUgbGFiZWwgd2l0aGluIHRoZSBmb290ZXIgb3IgaGVhZGVyIGFyZWEuIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICBsZWZ0OiBzdHJpbmc7IC8vIFRoZSByZWxhdGl2ZSBwb3NpdGlvbiB3aGVyZSB0byBwbGFjZSB0aGUgbGFiZWwgd2l0aGluIHRoZSBmb290ZXIgb3IgaGVhZGVyIGFyZWEuIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICBib3R0b206IHN0cmluZzsgLy8gVGhlIHJlbGF0aXZlIHBvc2l0aW9uIHdoZXJlIHRvIHBsYWNlIHRoZSBsYWJlbCB3aXRoaW4gdGhlIGZvb3RlciBvciBoZWFkZXIgYXJlYS4gT25seSBzdXBwb3J0ZWQgb24gaU9TXG4gIGZvbnQ6IEZvbnRPcHRpb25zOyAvLyBUaGUgZm9udCBhdHRyaWJ1dGVzIGZvciB0aGUgbGFiZWwuIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICBzaG93UGFnZUluZGV4OiBib29sZWFuOyAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0byBkaXNwbGF5IHRoZSBwYWdlIGluZGV4LiBPbmx5IHN1cHBvcnRlZCBvbiBpT1Ncbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcmludE9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIHByaW50IGpvYiBhbmQgdGhlIGRvY3VtZW50XG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIGNvcGllcyBmb3IgdGhlIHByaW50IHRhc2suXG4gICAqIE9ubHkgc3VwcG9ydGVkIG9uIGlPUywgV2luZG93c1xuICAgKi9cbiAgY29waWVzPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBMaW1pdHMgdGhlIHBhZ2VzIHRvIHByaW50IGV2ZW4gdGhlIGRvY3VtZW50IGNvbnRhaW5zIG1vcmUuXG4gICAqIFRvIHNraXAgdGhlIGxhc3QgbiBwYWdlcyB5b3UgY2FuIGFzc2lnbiBhIG5lZ2F0aXZlIHZhbHVlIG9uIGlPUy5cbiAgICogT25seSBzdXBwb3J0ZWQgb24gaU9TLCBBbmRyb2lkXG4gICAqL1xuICBwYWdlQ291bnQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgZHVwbGV4IG1vZGUgdG8gdXNlIGZvciB0aGUgcHJpbnQgam9iLlxuICAgKiBFaXRoZXIgZG91YmxlLXNpZGVkIG9uIHNob3J0IHNpdGUgKGR1cGxleDonc2hvcnQnKSxcbiAgICogZG91YmxlLXNpZGVkIG9uIGxvbmcgc2l0ZSAoZHVwbGV4Oidsb25nJykgb3Igc2luZ2xlLXNpZGVkIChkdXBsZXg6J25vbmUnKS5cbiAgICovXG4gIGR1cGxleD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSBvcmllbnRhdGlvbiBvZiB0aGUgcHJpbnRlZCBjb250ZW50LCBwb3J0cmFpdCBvciBsYW5kc2NhcGVcbiAgICogUG9ydHJhaXQgYnkgZGVmYXVsdC5cbiAgICovXG4gIG9yaWVudGF0aW9uPzogJ2xhbmRzY2FwZScgfCAncG9ydHJhaXQnO1xuXG4gIC8qKlxuICAgKiBJZiB5b3VyIGFwcGxpY2F0aW9uIG9ubHkgcHJpbnRzIGJsYWNrIHRleHQsIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byB0cnVlIGNhbiByZXN1bHQgaW4gYmV0dGVyIHBlcmZvcm1hbmNlIGluIG1hbnkgY2FzZXMuXG4gICAqIEZhbHNlIGJ5IGRlZmF1bHQuXG4gICAqL1xuICBtb25vY2hyb21lPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogSWYgeW91ciBhcHBsaWNhdGlvbiBvbmx5IHByaW50cyBibGFjayB0ZXh0LCBzZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gdHJ1ZSBjYW4gcmVzdWx0IGluIGJldHRlciBwZXJmb3JtYW5jZSBpbiBtYW55IGNhc2VzLlxuICAgKiBGYWxzZSBieSBkZWZhdWx0LlxuICAgKiBPbmx5IHN1cHBvcnRlZCBvbiBpT1MsIFdpbmRvd3NcbiAgICovXG4gIHBob3RvPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgZG93bnNjYWxpbmcgdGhlIGltYWdlIHRvIGZpdCBpbnRvIHRoZSBjb250ZW50IGFyZWFkLlxuICAgKiBPbmx5IHN1cHBvcnRlZCBvbiBBbmRyb2lkXG4gICAqL1xuICBhdXRvRml0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIG5ldHdvcmsgVVJMIHRvIHRoZSBwcmludGVyLlxuICAgKiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgICovXG4gIHByaW50ZXI/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIG1heGltdW0gc2l6ZSBvZiB0aGUgY29udGVudCBhcmVhLlxuICAgKiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgICovXG4gIG1heEhlaWdodD86IHN0cmluZztcblxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgbWF4aW11bSBzaXplIG9mIHRoZSBjb250ZW50IGFyZWEuXG4gICAqIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICAgKi9cbiAgbWF4V2lkdGg/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNldCB0byBmYWxzZSB0byBhdm9pZCBtYXJnaW5zLlxuICAgKiBUaGUgbWFyZ2lucyBmb3IgZWFjaCBwcmludGVkIHBhZ2UuIEVhY2ggcHJpbnRlciBtaWdodCBoYXZlIGl0cyBvd24gbWluaW11bSBtYXJnaW5zIGRlcGVuZHMgb24gbWVkaWEgdHlwZSBhbmQgcGFwZXIgZm9ybWF0LlxuICAgKi9cbiAgbWFyZ2luPzpcbiAgICB8IGJvb2xlYW5cbiAgICB8IHtcbiAgICAgICAgdG9wPzogc3RyaW5nO1xuICAgICAgICBsZWZ0Pzogc3RyaW5nO1xuICAgICAgICByaWdodD86IHN0cmluZztcbiAgICAgICAgYm90dG9tPzogc3RyaW5nO1xuICAgICAgfTtcblxuICB1aT86IHtcbiAgICBoaWRlTnVtYmVyT2ZDb3BpZXM/OiBzdHJpbmc7IC8vIFNldCB0byB0cnVlIHRvIGhpZGUgdGhlIGNvbnRyb2wgZm9yIHRoZSBudW1iZXIgb2YgY29waWVzLiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgICBoaWRlUGFwZXJGb3JtYXQ/OiBzdHJpbmc7IC8vIFNldCB0byB0cnVlIHRvIGhpZGUgdGhlIGNvbnRyb2wgZm9yIHRoZSBwYXBlciBmb3JtYXQuIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICAgIHRvcD86IG51bWJlcjsgLy8gVGhlIHBvc2l0aW9uIG9mIHRoZSBwcmludGVyIHBpY2tlci4gT25seSBzdXBwb3J0ZWQgb24gaVBhZFxuICAgIGxlZnQ/OiBudW1iZXI7IC8vIFRoZSBwb3NpdGlvbiBvZiB0aGUgcHJpbnRlciBwaWNrZXIuIE9ubHkgc3VwcG9ydGVkIG9uIGlQYWRcbiAgICBoZWlnaHQ/OiBudW1iZXI7IC8vIFRoZSBzaXplIG9mIHRoZSBwcmludGVyIHBpY2tlci4gT25seSBzdXBwb3J0ZWQgb24gaVBhZFxuICAgIHdpZHRoPzogbnVtYmVyOyAvLyBUaGUgc2l6ZSBvZiB0aGUgcHJpbnRlciBwaWNrZXIuIE9ubHkgc3VwcG9ydGVkIG9uIGlQYWRcbiAgfTtcblxuICBwYXBlcj86IHtcbiAgICB3aWR0aDogc3RyaW5nOyAvLyBUaGUgZGltZW5zaW9ucyBvZiB0aGUgcGFwZXIg4oCTIGlPUyB3aWxsIHdpbGwgdHJ5IHRvIGNob29zZSBhIGZvcm1hdCB3aGljaCBmaXRzIGJlc3RzLiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgICBoZWlnaHQ6IHN0cmluZzsgLy8gVGhlIGRpbWVuc2lvbnMgb2YgdGhlIHBhcGVyIOKAkyBpT1Mgd2lsbCB3aWxsIHRyeSB0byBjaG9vc2UgYSBmb3JtYXQgd2hpY2ggZml0cyBiZXN0cy4gT25seSBzdXBwb3J0ZWQgb24gaU9TXG4gICAgbmFtZTogc3RyaW5nOyAvLyBUaGUgbmFtZSBvZiB0aGUgZm9ybWF0IGxpa2UgSXNvQTQgb3IgUm9sbDIySW5jaC4gaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvdXdwL2FwaS93aW5kb3dzLmdyYXBoaWNzLnByaW50aW5nLnByaW50bWVkaWFzaXplLiBPbmx5IHN1cHBvcnRlZCBvbiBXaW5kb3dzXG4gICAgbGVuZ3RoOiBzdHJpbmc7IC8vIE9uIHJvbGwtZmVkIHByaW50ZXJzIHlvdSBjYW4gZGVjaWRlIHdoZW4gdGhlIHByaW50ZXIgY3V0cyB0aGUgcGFwZXIuIGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL3V3cC9hcGkvd2luZG93cy5ncmFwaGljcy5wcmludGluZy5wcmludG1lZGlhc2l6ZS4gT25seSBzdXBwb3J0ZWQgb24gaU9zXG4gIH07XG5cbiAgZm9udD86IEZvbnRPcHRpb25zO1xuXG4gIGhlYWRlcj86IHtcbiAgICBoZWlnaHQ6IHN0cmluZzsgLy8gVGhlIGhlaWdodCBvZiB0aGUgaGVhZGVyIG9yIGZvb3RlciBvbiBlYWNoIHBhZ2UuIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICAgIGxhYmVsczogc3RyaW5nW107IC8vIEFuIGFycmF5IG9mIGxhYmVscyB0byBkaXNwbGF5LiBPbmx5IHVzZSBpZiB0aGVyZSBhcmUgbW9yZSB0aGVuIG9uZS4gT25seSBzdXBwb3J0ZWQgb24gaU9TXG4gICAgbGFiZWw6IEhlYWRlckZvb3RlckxhYmVsT3B0aW9ucztcbiAgfTtcblxuICBmb290ZXI/OiB7XG4gICAgaGVpZ2h0OiBzdHJpbmc7IC8vIFRoZSBoZWlnaHQgb2YgdGhlIGhlYWRlciBvciBmb290ZXIgb24gZWFjaCBwYWdlLiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgICBsYWJlbHM6IHN0cmluZ1tdOyAvLyBBbiBhcnJheSBvZiBsYWJlbHMgdG8gZGlzcGxheS4gT25seSB1c2UgaWYgdGhlcmUgYXJlIG1vcmUgdGhlbiBvbmUuIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICAgIGxhYmVsOiBIZWFkZXJGb290ZXJMYWJlbE9wdGlvbnM7XG4gIH07XG59XG5cbi8qKlxuICogQG5hbWUgUHJpbnRlclxuICogQGRlc2NyaXB0aW9uIFByaW50cyBkb2N1bWVudHMgb3IgSFRNTCByZW5kZXJlZCBjb250ZW50XG4gKiBAdXNhZ2VcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IFByaW50ZXIsIFByaW50T3B0aW9ucyB9IGZyb20gJ0Bhd2Vzb21lLWNvcmRvdmEtcGx1Z2lucy9wcmludGVyL25neCc7XG4gKlxuICogY29uc3RydWN0b3IocHJpdmF0ZSBwcmludGVyOiBQcmludGVyKSB7IH1cbiAqXG4gKiAuLi5cbiAqXG4gKiB0aGlzLnByaW50ZXIuaXNBdmFpbGFibGUoKS50aGVuKG9uU3VjY2Vzcywgb25FcnJvcik7XG4gKlxuICogbGV0IG9wdGlvbnM6IFByaW50T3B0aW9ucyA9IHtcbiAqICAgICAgbmFtZTogJ015RG9jdW1lbnQnLFxuICogICAgICBkdXBsZXg6IHRydWUsXG4gKiAgICAgIG9yaWVudGF0aW9uOiAnbGFuZHNjYXBlJyxcbiAqICAgICAgbW9ub2Nocm9tZTogdHJ1ZVxuICogfVxuICpcbiAqIHRoaXMucHJpbnRlci5wcmludChjb250ZW50LCBvcHRpb25zKS50aGVuKG9uU3VjY2Vzcywgb25FcnJvcik7XG4gKiBgYGBcbiAqIEBpbnRlcmZhY2VzXG4gKiBQcmludE9wdGlvbnNcbiAqL1xuQFBsdWdpbih7XG4gIHBsdWdpbk5hbWU6ICdQcmludGVyJyxcbiAgcGx1Z2luOiAnY29yZG92YS1wbHVnaW4tcHJpbnRlcicsXG4gIHBsdWdpblJlZjogJ2NvcmRvdmEucGx1Z2lucy5wcmludGVyJyxcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS9rYXR6ZXIvY29yZG92YS1wbHVnaW4tcHJpbnRlcicsXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUycsICdXaW5kb3dzJ10sXG59KVxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFByaW50ZXIgZXh0ZW5kcyBBd2Vzb21lQ29yZG92YU5hdGl2ZVBsdWdpbiB7XG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZGV2aWNlIGlzIGNhcGFibGUgb2YgcHJpbnRpbmcgKHVzZXMgYGNoZWNrKClgIGludGVybmFsbHkpXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgKi9cbiAgaXNBdmFpbGFibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRoaXMuY2hlY2soKS50aGVuKChyZXM6IGFueSkgPT4gUHJvbWlzZS5yZXNvbHZlKHJlcy5hdmFpbCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBUbyBjaGVjayBpZiBwcmludGluZyBpcyBzdXBwb3J0ZWQgaW4gZ2VuZXJhbFxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmUgd2l0aCBhbiBvYmplY3QgaW5kaWNhdGluZyB3aGV0aGVyIHByaW50aW5nIGlzIGF2YWlsYWJsZVxuICAgKi9cbiAgQENvcmRvdmFDaGVjaygpXG4gIGNoZWNrKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIGdldFByb21pc2U8YW55PigocmVzb2x2ZTogRnVuY3Rpb24pID0+IHtcbiAgICAgIFByaW50ZXIuZ2V0UGx1Z2luKCkuY2FuUHJpbnRJdGVtKChhdmFpbDogYm9vbGVhbiwgY291bnQ6IGFueSkgPT4ge1xuICAgICAgICByZXNvbHZlKHsgYXZhaWwsIGNvdW50IH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGlzcGxheXMgYSBzeXN0ZW0gaW50ZXJmYWNlIGFsbG93aW5nIHRoZSB1c2VyIHRvIHNlbGVjdCBhbiBhdmFpbGFibGUgcHJpbnRlci4gVG8gc3BlYWsgd2l0aCBhIHByaW50ZXIgZGlyZWN0bHkgeW91IG5lZWQgdG8ga25vdyB0aGUgbmV0d29yayBhZGRyZXNzIGJ5IHBpY2tpbmcgdGhlbSBiZWZvcmUgdmlhIGBwcmludGVyLnBpY2tgLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBwaWNrKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGNvbnRlbnQgdG8gdGhlIHByaW50ZXIuXG4gICAqXG4gICAqIEBwYXJhbSBjb250ZW50IHtzdHJpbmcgfCBIVE1MRWxlbWVudH0gVGhlIGNvbnRlbnQgdG8gcHJpbnQuIENhbiBiZSBhIFVSTCBvciBhbiBIVE1MIHN0cmluZy4gSWYgYSBIVE1MIERPTSBPYmplY3QgaXMgcHJvdmlkZWQsIGl0cyBpbm5lckh0bWwgcHJvcGVydHkgdmFsdWUgd2lsbCBiZSB1c2VkLlxuICAgKiBAcGFyYW0gb3B0aW9ucyB7UHJpbnRPcHRpb25zfSBvcHRpb25hbC4gVGhlIG9wdGlvbnMgdG8gcGFzcyB0byB0aGUgcHJpbnRlclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMixcbiAgICBlcnJvckluZGV4OiA0LFxuICB9KVxuICBwcmludChjb250ZW50Pzogc3RyaW5nIHwgSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBQcmludE9wdGlvbnMpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxufVxuIl19