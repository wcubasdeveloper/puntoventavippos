var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
import { AwesomeCordovaNativePlugin, cordova, checkAvailability, getPromise } from '@awesome-cordova-plugins/core';
var PrinterOriginal = /** @class */ (function (_super) {
    __extends(PrinterOriginal, _super);
    function PrinterOriginal() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * Checks whether the device is capable of printing (uses `check()` internally)
     *
     * @returns {Promise<boolean>}
     */
    PrinterOriginal.prototype.isAvailable = function () {
        return this.check().then(function (res) { return Promise.resolve(res.avail); });
    };
    PrinterOriginal.prototype.check = function () {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                return getPromise(function (resolve) {
                    PrinterOriginal.getPlugin().canPrintItem(function (avail, count) {
                        resolve({ avail: avail, count: count });
                    });
                });
            }
        })();
    };
    PrinterOriginal.prototype.pick = function () { return cordova(this, "pick", {}, arguments); };
    PrinterOriginal.prototype.print = function (content, options) { return cordova(this, "print", { "successIndex": 2, "errorIndex": 4 }, arguments); };
    PrinterOriginal.pluginName = "Printer";
    PrinterOriginal.plugin = "cordova-plugin-printer";
    PrinterOriginal.pluginRef = "cordova.plugins.printer";
    PrinterOriginal.repo = "https://github.com/katzer/cordova-plugin-printer";
    PrinterOriginal.platforms = ["Android", "iOS", "Windows"];
    return PrinterOriginal;
}(AwesomeCordovaNativePlugin));
var Printer = new PrinterOriginal();
export { Printer };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvcHJpbnRlci9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQ0EsT0FBTywwREFBNkQsVUFBVSxFQUFFLE1BQU0sK0JBQStCLENBQUM7O0lBdUt6RiwyQkFBMEI7Ozs7SUFDckQ7Ozs7T0FJRztJQUNILDZCQUFXLEdBQVg7UUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBQyxHQUFRLElBQUssT0FBQSxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBMUIsQ0FBMEIsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFRRCx1QkFBSzs7O21EQUFpQjtnQkFDcEIsT0FBTyxVQUFVLENBQU0sVUFBQyxPQUFpQjtvQkFDdkMsT0FBTyxDQUFDLFNBQVMsRUFBRSxDQUFDLFlBQVksQ0FBQyxVQUFDLEtBQWMsRUFBRSxLQUFVO3dCQUMxRCxPQUFPLENBQUMsRUFBRSxLQUFLLE9BQUEsRUFBRSxLQUFLLE9BQUEsRUFBRSxDQUFDLENBQUM7b0JBQzVCLENBQUMsQ0FBQyxDQUFDO2dCQUNMLENBQUMsQ0FBQyxDQUFDO2FBQ0o7OztJQVFELHNCQUFJO0lBZUosdUJBQUssYUFBQyxPQUE4QixFQUFFLE9BQXNCOzs7Ozs7a0JBck45RDtFQXdLNkIsMEJBQTBCO1NBQTFDLE9BQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb3Jkb3ZhLCBDb3Jkb3ZhQ2hlY2ssIEF3ZXNvbWVDb3Jkb3ZhTmF0aXZlUGx1Z2luLCBQbHVnaW4sIGdldFByb21pc2UgfSBmcm9tICdAYXdlc29tZS1jb3Jkb3ZhLXBsdWdpbnMvY29yZSc7XG5cbmludGVyZmFjZSBGb250T3B0aW9ucyB7XG4gIG5hbWU6IHN0cmluZzsgLy8gVGhlIG5hbWUgb2YgdGhlIGZvbnQgZmFtaWx5LiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgc2l6ZTogbnVtYmVyOyAvLyBUaGUgc2l6ZSBvZiB0aGUgZm9udC4gT25seSBzdXBwb3J0ZWQgb24gaU9TLCBBbmRyb2lkXG4gIGl0YWxpYzogYm9vbGVhbjsgLy8gU2V0IHRvIHRydWUgdG8gZW5hYmxlIHRoZXNlIGZvbnQgdHJhaXRzLiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgYm9sZDogYm9vbGVhbjsgLy8gU2V0IHRvIHRydWUgdG8gZW5hYmxlIHRoZXNlIGZvbnQgdHJhaXRzLiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgYWxpZ246ICdsZWZ0JyB8ICdyaWdodCcgfCAnY2VudGVyJyB8ICdqdXN0aWZpZWQnOyAvLyBQb3NzaWJsZSBhbGlnbm1lbnRzIGFyZSBsZWZ0LCByaWdodCwgY2VudGVyIGFuZCBqdXN0aWZpZWQuIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICBjb2xvcjogc3RyaW5nOyAvLyBUaGUgY29sb3Igb2YgdGhlIGZvbnQgaW4gaGV4YS1kZWNpbWFsIFJHQiBmb3JtYXQgLSBcIkZGMDAwMFwiIG1lYW5zIHJlZC4gT25seSBzdXBwb3J0ZWQgb24gaU9TXG59XG5cbmludGVyZmFjZSBIZWFkZXJGb290ZXJMYWJlbE9wdGlvbnMge1xuICB0ZXh0OiBzdHJpbmc7IC8vIFRoZSBwbGFpbiB0ZXh0IHRvIGRpc3BsYXkuIFVzZSAlbGQgdG8gaW5kaWNhdGUgd2hlcmUgdG8gaW5zZXJ0IHRoZSBwYWdlIGluZGV4LiBGb3IgZXhhbXBsZSBcIlBhZ2UgJWxkXCIgd291bGQgcmVzdWx0IGludG8gXCJQYWdlIDFcIiwgXCJQYWdlIDJcIiwgLi4uLiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgdG9wOiBzdHJpbmc7IC8vIFRoZSByZWxhdGl2ZSBwb3NpdGlvbiB3aGVyZSB0byBwbGFjZSB0aGUgbGFiZWwgd2l0aGluIHRoZSBmb290ZXIgb3IgaGVhZGVyIGFyZWEuIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICByaWdodDogc3RyaW5nOyAvLyBUaGUgcmVsYXRpdmUgcG9zaXRpb24gd2hlcmUgdG8gcGxhY2UgdGhlIGxhYmVsIHdpdGhpbiB0aGUgZm9vdGVyIG9yIGhlYWRlciBhcmVhLiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgbGVmdDogc3RyaW5nOyAvLyBUaGUgcmVsYXRpdmUgcG9zaXRpb24gd2hlcmUgdG8gcGxhY2UgdGhlIGxhYmVsIHdpdGhpbiB0aGUgZm9vdGVyIG9yIGhlYWRlciBhcmVhLiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgYm90dG9tOiBzdHJpbmc7IC8vIFRoZSByZWxhdGl2ZSBwb3NpdGlvbiB3aGVyZSB0byBwbGFjZSB0aGUgbGFiZWwgd2l0aGluIHRoZSBmb290ZXIgb3IgaGVhZGVyIGFyZWEuIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICBmb250OiBGb250T3B0aW9uczsgLy8gVGhlIGZvbnQgYXR0cmlidXRlcyBmb3IgdGhlIGxhYmVsLiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgc2hvd1BhZ2VJbmRleDogYm9vbGVhbjsgLy8gU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdG8gZGlzcGxheSB0aGUgcGFnZSBpbmRleC4gT25seSBzdXBwb3J0ZWQgb24gaU9TXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJpbnRPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBwcmludCBqb2IgYW5kIHRoZSBkb2N1bWVudFxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBjb3BpZXMgZm9yIHRoZSBwcmludCB0YXNrLlxuICAgKiBPbmx5IHN1cHBvcnRlZCBvbiBpT1MsIFdpbmRvd3NcbiAgICovXG4gIGNvcGllcz86IG51bWJlcjtcblxuICAvKipcbiAgICogTGltaXRzIHRoZSBwYWdlcyB0byBwcmludCBldmVuIHRoZSBkb2N1bWVudCBjb250YWlucyBtb3JlLlxuICAgKiBUbyBza2lwIHRoZSBsYXN0IG4gcGFnZXMgeW91IGNhbiBhc3NpZ24gYSBuZWdhdGl2ZSB2YWx1ZSBvbiBpT1MuXG4gICAqIE9ubHkgc3VwcG9ydGVkIG9uIGlPUywgQW5kcm9pZFxuICAgKi9cbiAgcGFnZUNvdW50PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIGR1cGxleCBtb2RlIHRvIHVzZSBmb3IgdGhlIHByaW50IGpvYi5cbiAgICogRWl0aGVyIGRvdWJsZS1zaWRlZCBvbiBzaG9ydCBzaXRlIChkdXBsZXg6J3Nob3J0JyksXG4gICAqIGRvdWJsZS1zaWRlZCBvbiBsb25nIHNpdGUgKGR1cGxleDonbG9uZycpIG9yIHNpbmdsZS1zaWRlZCAoZHVwbGV4Oidub25lJykuXG4gICAqL1xuICBkdXBsZXg/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgb3JpZW50YXRpb24gb2YgdGhlIHByaW50ZWQgY29udGVudCwgcG9ydHJhaXQgb3IgbGFuZHNjYXBlXG4gICAqIFBvcnRyYWl0IGJ5IGRlZmF1bHQuXG4gICAqL1xuICBvcmllbnRhdGlvbj86ICdsYW5kc2NhcGUnIHwgJ3BvcnRyYWl0JztcblxuICAvKipcbiAgICogSWYgeW91ciBhcHBsaWNhdGlvbiBvbmx5IHByaW50cyBibGFjayB0ZXh0LCBzZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gdHJ1ZSBjYW4gcmVzdWx0IGluIGJldHRlciBwZXJmb3JtYW5jZSBpbiBtYW55IGNhc2VzLlxuICAgKiBGYWxzZSBieSBkZWZhdWx0LlxuICAgKi9cbiAgbW9ub2Nocm9tZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIElmIHlvdXIgYXBwbGljYXRpb24gb25seSBwcmludHMgYmxhY2sgdGV4dCwgc2V0dGluZyB0aGlzIHByb3BlcnR5IHRvIHRydWUgY2FuIHJlc3VsdCBpbiBiZXR0ZXIgcGVyZm9ybWFuY2UgaW4gbWFueSBjYXNlcy5cbiAgICogRmFsc2UgYnkgZGVmYXVsdC5cbiAgICogT25seSBzdXBwb3J0ZWQgb24gaU9TLCBXaW5kb3dzXG4gICAqL1xuICBwaG90bz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIGRvd25zY2FsaW5nIHRoZSBpbWFnZSB0byBmaXQgaW50byB0aGUgY29udGVudCBhcmVhZC5cbiAgICogT25seSBzdXBwb3J0ZWQgb24gQW5kcm9pZFxuICAgKi9cbiAgYXV0b0ZpdD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSBuZXR3b3JrIFVSTCB0byB0aGUgcHJpbnRlci5cbiAgICogT25seSBzdXBwb3J0ZWQgb24gaU9TXG4gICAqL1xuICBwcmludGVyPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBtYXhpbXVtIHNpemUgb2YgdGhlIGNvbnRlbnQgYXJlYS5cbiAgICogT25seSBzdXBwb3J0ZWQgb24gaU9TXG4gICAqL1xuICBtYXhIZWlnaHQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIG1heGltdW0gc2l6ZSBvZiB0aGUgY29udGVudCBhcmVhLlxuICAgKiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgICovXG4gIG1heFdpZHRoPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTZXQgdG8gZmFsc2UgdG8gYXZvaWQgbWFyZ2lucy5cbiAgICogVGhlIG1hcmdpbnMgZm9yIGVhY2ggcHJpbnRlZCBwYWdlLiBFYWNoIHByaW50ZXIgbWlnaHQgaGF2ZSBpdHMgb3duIG1pbmltdW0gbWFyZ2lucyBkZXBlbmRzIG9uIG1lZGlhIHR5cGUgYW5kIHBhcGVyIGZvcm1hdC5cbiAgICovXG4gIG1hcmdpbj86XG4gICAgfCBib29sZWFuXG4gICAgfCB7XG4gICAgICAgIHRvcD86IHN0cmluZztcbiAgICAgICAgbGVmdD86IHN0cmluZztcbiAgICAgICAgcmlnaHQ/OiBzdHJpbmc7XG4gICAgICAgIGJvdHRvbT86IHN0cmluZztcbiAgICAgIH07XG5cbiAgdWk/OiB7XG4gICAgaGlkZU51bWJlck9mQ29waWVzPzogc3RyaW5nOyAvLyBTZXQgdG8gdHJ1ZSB0byBoaWRlIHRoZSBjb250cm9sIGZvciB0aGUgbnVtYmVyIG9mIGNvcGllcy4gT25seSBzdXBwb3J0ZWQgb24gaU9TXG4gICAgaGlkZVBhcGVyRm9ybWF0Pzogc3RyaW5nOyAvLyBTZXQgdG8gdHJ1ZSB0byBoaWRlIHRoZSBjb250cm9sIGZvciB0aGUgcGFwZXIgZm9ybWF0LiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgICB0b3A/OiBudW1iZXI7IC8vIFRoZSBwb3NpdGlvbiBvZiB0aGUgcHJpbnRlciBwaWNrZXIuIE9ubHkgc3VwcG9ydGVkIG9uIGlQYWRcbiAgICBsZWZ0PzogbnVtYmVyOyAvLyBUaGUgcG9zaXRpb24gb2YgdGhlIHByaW50ZXIgcGlja2VyLiBPbmx5IHN1cHBvcnRlZCBvbiBpUGFkXG4gICAgaGVpZ2h0PzogbnVtYmVyOyAvLyBUaGUgc2l6ZSBvZiB0aGUgcHJpbnRlciBwaWNrZXIuIE9ubHkgc3VwcG9ydGVkIG9uIGlQYWRcbiAgICB3aWR0aD86IG51bWJlcjsgLy8gVGhlIHNpemUgb2YgdGhlIHByaW50ZXIgcGlja2VyLiBPbmx5IHN1cHBvcnRlZCBvbiBpUGFkXG4gIH07XG5cbiAgcGFwZXI/OiB7XG4gICAgd2lkdGg6IHN0cmluZzsgLy8gVGhlIGRpbWVuc2lvbnMgb2YgdGhlIHBhcGVyIOKAkyBpT1Mgd2lsbCB3aWxsIHRyeSB0byBjaG9vc2UgYSBmb3JtYXQgd2hpY2ggZml0cyBiZXN0cy4gT25seSBzdXBwb3J0ZWQgb24gaU9TXG4gICAgaGVpZ2h0OiBzdHJpbmc7IC8vIFRoZSBkaW1lbnNpb25zIG9mIHRoZSBwYXBlciDigJMgaU9TIHdpbGwgd2lsbCB0cnkgdG8gY2hvb3NlIGEgZm9ybWF0IHdoaWNoIGZpdHMgYmVzdHMuIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICAgIG5hbWU6IHN0cmluZzsgLy8gVGhlIG5hbWUgb2YgdGhlIGZvcm1hdCBsaWtlIElzb0E0IG9yIFJvbGwyMkluY2guIGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL3V3cC9hcGkvd2luZG93cy5ncmFwaGljcy5wcmludGluZy5wcmludG1lZGlhc2l6ZS4gT25seSBzdXBwb3J0ZWQgb24gV2luZG93c1xuICAgIGxlbmd0aDogc3RyaW5nOyAvLyBPbiByb2xsLWZlZCBwcmludGVycyB5b3UgY2FuIGRlY2lkZSB3aGVuIHRoZSBwcmludGVyIGN1dHMgdGhlIHBhcGVyLiBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy91d3AvYXBpL3dpbmRvd3MuZ3JhcGhpY3MucHJpbnRpbmcucHJpbnRtZWRpYXNpemUuIE9ubHkgc3VwcG9ydGVkIG9uIGlPc1xuICB9O1xuXG4gIGZvbnQ/OiBGb250T3B0aW9ucztcblxuICBoZWFkZXI/OiB7XG4gICAgaGVpZ2h0OiBzdHJpbmc7IC8vIFRoZSBoZWlnaHQgb2YgdGhlIGhlYWRlciBvciBmb290ZXIgb24gZWFjaCBwYWdlLiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgICBsYWJlbHM6IHN0cmluZ1tdOyAvLyBBbiBhcnJheSBvZiBsYWJlbHMgdG8gZGlzcGxheS4gT25seSB1c2UgaWYgdGhlcmUgYXJlIG1vcmUgdGhlbiBvbmUuIE9ubHkgc3VwcG9ydGVkIG9uIGlPU1xuICAgIGxhYmVsOiBIZWFkZXJGb290ZXJMYWJlbE9wdGlvbnM7XG4gIH07XG5cbiAgZm9vdGVyPzoge1xuICAgIGhlaWdodDogc3RyaW5nOyAvLyBUaGUgaGVpZ2h0IG9mIHRoZSBoZWFkZXIgb3IgZm9vdGVyIG9uIGVhY2ggcGFnZS4gT25seSBzdXBwb3J0ZWQgb24gaU9TXG4gICAgbGFiZWxzOiBzdHJpbmdbXTsgLy8gQW4gYXJyYXkgb2YgbGFiZWxzIHRvIGRpc3BsYXkuIE9ubHkgdXNlIGlmIHRoZXJlIGFyZSBtb3JlIHRoZW4gb25lLiBPbmx5IHN1cHBvcnRlZCBvbiBpT1NcbiAgICBsYWJlbDogSGVhZGVyRm9vdGVyTGFiZWxPcHRpb25zO1xuICB9O1xufVxuXG4vKipcbiAqIEBuYW1lIFByaW50ZXJcbiAqIEBkZXNjcmlwdGlvbiBQcmludHMgZG9jdW1lbnRzIG9yIEhUTUwgcmVuZGVyZWQgY29udGVudFxuICogQHVzYWdlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBQcmludGVyLCBQcmludE9wdGlvbnMgfSBmcm9tICdAYXdlc29tZS1jb3Jkb3ZhLXBsdWdpbnMvcHJpbnRlci9uZ3gnO1xuICpcbiAqIGNvbnN0cnVjdG9yKHByaXZhdGUgcHJpbnRlcjogUHJpbnRlcikgeyB9XG4gKlxuICogLi4uXG4gKlxuICogdGhpcy5wcmludGVyLmlzQXZhaWxhYmxlKCkudGhlbihvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICpcbiAqIGxldCBvcHRpb25zOiBQcmludE9wdGlvbnMgPSB7XG4gKiAgICAgIG5hbWU6ICdNeURvY3VtZW50JyxcbiAqICAgICAgZHVwbGV4OiB0cnVlLFxuICogICAgICBvcmllbnRhdGlvbjogJ2xhbmRzY2FwZScsXG4gKiAgICAgIG1vbm9jaHJvbWU6IHRydWVcbiAqIH1cbiAqXG4gKiB0aGlzLnByaW50ZXIucHJpbnQoY29udGVudCwgb3B0aW9ucykudGhlbihvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICogYGBgXG4gKiBAaW50ZXJmYWNlc1xuICogUHJpbnRPcHRpb25zXG4gKi9cbkBQbHVnaW4oe1xuICBwbHVnaW5OYW1lOiAnUHJpbnRlcicsXG4gIHBsdWdpbjogJ2NvcmRvdmEtcGx1Z2luLXByaW50ZXInLFxuICBwbHVnaW5SZWY6ICdjb3Jkb3ZhLnBsdWdpbnMucHJpbnRlcicsXG4gIHJlcG86ICdodHRwczovL2dpdGh1Yi5jb20va2F0emVyL2NvcmRvdmEtcGx1Z2luLXByaW50ZXInLFxuICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnLCAnV2luZG93cyddLFxufSlcbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBQcmludGVyIGV4dGVuZHMgQXdlc29tZUNvcmRvdmFOYXRpdmVQbHVnaW4ge1xuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGRldmljZSBpcyBjYXBhYmxlIG9mIHByaW50aW5nICh1c2VzIGBjaGVjaygpYCBpbnRlcm5hbGx5KVxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cbiAgICovXG4gIGlzQXZhaWxhYmxlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmNoZWNrKCkudGhlbigocmVzOiBhbnkpID0+IFByb21pc2UucmVzb2x2ZShyZXMuYXZhaWwpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgVG8gY2hlY2sgaWYgcHJpbnRpbmcgaXMgc3VwcG9ydGVkIGluIGdlbmVyYWxcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlIHdpdGggYW4gb2JqZWN0IGluZGljYXRpbmcgd2hldGhlciBwcmludGluZyBpcyBhdmFpbGFibGVcbiAgICovXG4gIEBDb3Jkb3ZhQ2hlY2soKVxuICBjaGVjaygpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiBnZXRQcm9taXNlPGFueT4oKHJlc29sdmU6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICBQcmludGVyLmdldFBsdWdpbigpLmNhblByaW50SXRlbSgoYXZhaWw6IGJvb2xlYW4sIGNvdW50OiBhbnkpID0+IHtcbiAgICAgICAgcmVzb2x2ZSh7IGF2YWlsLCBjb3VudCB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIGEgc3lzdGVtIGludGVyZmFjZSBhbGxvd2luZyB0aGUgdXNlciB0byBzZWxlY3QgYW4gYXZhaWxhYmxlIHByaW50ZXIuIFRvIHNwZWFrIHdpdGggYSBwcmludGVyIGRpcmVjdGx5IHlvdSBuZWVkIHRvIGtub3cgdGhlIG5ldHdvcmsgYWRkcmVzcyBieSBwaWNraW5nIHRoZW0gYmVmb3JlIHZpYSBgcHJpbnRlci5waWNrYC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgcGljaygpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBjb250ZW50IHRvIHRoZSBwcmludGVyLlxuICAgKlxuICAgKiBAcGFyYW0gY29udGVudCB7c3RyaW5nIHwgSFRNTEVsZW1lbnR9IFRoZSBjb250ZW50IHRvIHByaW50LiBDYW4gYmUgYSBVUkwgb3IgYW4gSFRNTCBzdHJpbmcuIElmIGEgSFRNTCBET00gT2JqZWN0IGlzIHByb3ZpZGVkLCBpdHMgaW5uZXJIdG1sIHByb3BlcnR5IHZhbHVlIHdpbGwgYmUgdXNlZC5cbiAgICogQHBhcmFtIG9wdGlvbnMge1ByaW50T3B0aW9uc30gb3B0aW9uYWwuIFRoZSBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIHByaW50ZXJcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDIsXG4gICAgZXJyb3JJbmRleDogNCxcbiAgfSlcbiAgcHJpbnQoY29udGVudD86IHN0cmluZyB8IEhUTUxFbGVtZW50LCBvcHRpb25zPzogUHJpbnRPcHRpb25zKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cbn1cbiJdfQ==